<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>MD Share - Markdown Editor and Viewer</title>
    <!-- Google Fonts -->
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700&family=JetBrains+Mono:wght@400;500&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="assets/css/styles.css">
    <!-- Marked.js for parsing Markdown -->
    <script src="https://cdn.jsdelivr.net/npm/marked/marked.min.js"></script>
    <!-- Highlight.js for code syntax highlighting -->
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.9.0/styles/github-dark.min.css" id="hljs-theme">
    <script src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.9.0/highlight.min.js"></script>
</head>
<body data-theme="dark">
    <!-- Theme Toggle -->
    <button class="theme-toggle" id="theme-toggle" title="Toggle theme">
        <span class="icon">ğŸŒ™</span>
        <span class="label">Dark</span>
    </button>

    <header>
        <h1>ğŸ“ MD Share</h1>
        <p class="subtitle">Markdown editor and viewer with easy sharing</p>
    </header>

    <main>
        <div class="toolbar">
            <div class="toolbar-left">
                <label for="file-input" class="btn btn-primary">
                    ğŸ“ Load file
                </label>
                <input type="file" id="file-input" accept=".md,.markdown,.txt" hidden>
                <button id="btn-clear" class="btn btn-secondary">ğŸ—‘ï¸ Clear</button>
            </div>
            <div class="toolbar-right">
                <button id="btn-share" class="btn btn-success">ğŸ”— Share</button>
                <button id="btn-download" class="btn btn-secondary">ğŸ’¾ Download</button>
            </div>
        </div>

        <div class="container">
            <div class="panel editor-panel">
                <div class="panel-header">
                    <h2>âœï¸ Markdown Editor</h2>
                </div>
                <textarea id="markdown-input" placeholder="Write your Markdown here...

# Example title

## Subtitle

Here is a paragraph with **bold text** and *italic text*.

- List item 1
- List item 2
- List item 3

```javascript
// Code block
console.log('Hello, Markdown!');
```

[A link](https://example.com)
"></textarea>
            </div>

            <div class="panel preview-panel">
                <div class="panel-header">
                    <h2>ğŸ‘ï¸ Preview</h2>
                </div>
                <div id="markdown-preview" class="preview-content">
                    <p class="placeholder-text">Preview will appear here...</p>
                </div>
            </div>
        </div>

        <!-- Share modal -->
        <div id="share-modal" class="modal hidden">
            <div class="modal-content">
                <div class="modal-header">
                    <h3>ğŸ”— Share your Markdown</h3>
                    <button id="modal-close" class="btn-close">&times;</button>
                </div>
                <div class="modal-body">
                    <!-- Share mode selector -->
                    <div class="mode-selector">
                        <label>ğŸ“Œ Share mode:</label>
                        <div class="mode-options">
                            <label class="mode-option">
                                <input type="radio" name="share-mode" value="editor" checked>
                                <span class="mode-label">
                                    <span class="mode-icon">âœï¸</span>
                                    <span class="mode-text">
                                        <strong>Editor</strong>
                                        <small>Recipients can edit</small>
                                    </span>
                                </span>
                            </label>
                            <label class="mode-option">
                                <input type="radio" name="share-mode" value="preview">
                                <span class="mode-label">
                                    <span class="mode-icon">ğŸ‘ï¸</span>
                                    <span class="mode-text">
                                        <strong>Preview</strong>
                                        <small>Same page, read-only</small>
                                    </span>
                                </span>
                            </label>
                            <label class="mode-option">
                                <input type="radio" name="share-mode" value="readonly">
                                <span class="mode-label">
                                    <span class="mode-icon">ğŸ“„</span>
                                    <span class="mode-text">
                                        <strong>Read-only</strong>
                                        <small>Clean page, ideal for CV</small>
                                    </span>
                                </span>
                            </label>
                        </div>
                    </div>

                    <!-- Expiration selector -->
                    <div class="expiration-selector">
                        <label for="expiration-select">â±ï¸ Expiration:</label>
                        <select id="expiration-select">
                            <option value="0">Never</option>
                            <option value="1">1 hour</option>
                            <option value="24">24 hours</option>
                            <option value="168" selected>7 days</option>
                            <option value="720">30 days</option>
                        </select>
                    </div>

                    <!-- Generate button -->
                    <button id="btn-generate-link" class="btn btn-success btn-generate">ğŸ”— Generate Link</button>

                    <!-- Link result (hidden initially) -->
                    <div id="link-result" class="link-result hidden">
                        <p>Your share link:</p>
                        <div class="share-link-container">
                            <input type="text" id="share-link" readonly>
                            <button id="btn-copy-modal" class="btn btn-primary">Copy</button>
                        </div>
                        <p id="expiration-info" class="expiration-info hidden"></p>
                    </div>

                    <p class="share-note">
                        âš ï¸ Note: Content is encoded in the URL. Very long files may not work with some browsers.
                    </p>
                </div>
            </div>
        </div>

        <!-- Back button for preview mode -->
        <div id="back-to-editor" class="back-button hidden">
            <button id="btn-back" class="btn btn-primary">âœï¸ Open in editor</button>
        </div>

        <!-- Toast notification -->
        <div id="toast" class="toast hidden">
            <span id="toast-message"></span>
        </div>
    </main>

    <footer>
        <p>MD Share Â© 2025 Â· <a href="https://github.com/ValterBrani/md-share" target="_blank" rel="noopener">GitHub repository</a></p>
    </footer>

    <script src="assets/js/app.js"></script>
</body>
</html>
